class TypeEffect{constructor(e,t,i,s){this.element=document.querySelector(e),this.texts=t,this.seconds=i,this.everyStopSeconds=s}type(){var e=0,t=this.texts;for(let i=0;i<t.length;i++){for(var s,r,n,a=0;a<t[i].length;a++)t[i][a],setTimeout((s=i,r=a,()=>{this.element.innerHTML=this.element.innerHTML.replaceAll("_",""),this.element.innerHTML+=t[s][r]+"_"}),e+=this.seconds);if(e+=this.everyStopSeconds,i<t.length-1)for(var o=0;o<t[i].length;o++)setTimeout((n=o,()=>{this.element.innerHTML=this.element.innerHTML.replaceAll("_",""),this.element.innerHTML=t[i].substr(0,t[i].length-1-n)+"_"}),e+=this.seconds)}return e}clear(e,t){setTimeout(()=>{this.element.innerHTML=e},t)}}class PageLoader{constructor(e,t,i,s,r){this.main=document.querySelector(e),this.defaultTitle=i,this.button={left:(()=>{try{return document.querySelector(s)}catch{return}})(),right:(()=>{try{return document.querySelector(r)}catch{return}})()},this.title=document.querySelector(t),this.pages=[],this.nowpage=0;var n={};this.animateStatus=!1,this.saveInputs={save(){let t=document.querySelector(e).querySelectorAll("input,textarea");t&&t.forEach(e=>{if(""!=e.value){let t=parseInt(Math.pow(100*Math.random(),10)).toString(16);e.setAttribute("data-pageloader-index",t),n[t]=e.value}})},get(){let t=document.querySelector(e).querySelectorAll("[data-pageloader-index]");t.forEach(e=>{let t=e.getAttribute("data-pageloader-index");n[t]&&(e.value=n[t])})}},this.WebTitle=document.querySelector("title").innerHTML}updateWebTitle(e){let t=document.querySelector("title");this.nowpage>0?t.innerHTML=this.WebTitle+" | "+e:t.innerHTML=this.WebTitle}init(){this.title.innerText=this.defaultTitle,this.main.classList.add("page-loader-default"),this.button.right&&this.button.right.classList.add("disabled"),this.button.left&&this.button.left.classList.add("disabled"),this.title.onclick=()=>{this.main.classList.add("scroll-smooth"),this.main.scrollTop=0,setTimeout(()=>{this.main.classList.remove("scroll-smooth")},1e3)}}eachCantuse(){if(this.main.querySelectorAll("[data-page-loader-cantuse]")){let e=this.main.querySelectorAll("[data-page-loader-cantuse]");e.forEach(e=>{e.classList.add("page-loader-cantuse")})}}newPage(e,t,i){if(!this.animateStatus){if(!e||!t){console.error("error on title or content! please check the code. (PageLoader class)");return}0==this.nowpage&&this.main.classList.remove("page-loader-default"),this.eachCantuse(),this.saveInputs.save(),this.animateStatus=!0,this.main.classList.remove("page-loader-in"),this.main.classList.add("page-loader-out"),this.pages[this.nowpage]=[this.title.innerText,this.main.innerHTML,this.main.scrollTop],this.pages[++this.nowpage]=[e,t,0],setTimeout(()=>{this.main.innerHTML=t,this.title.innerText=e,this.updateWebTitle(e),this.main.scrollTop=0,this.button.right&&this.button.right.classList.add("disabled"),this.button.left&&this.button.left.classList.remove("disabled"),this.main.classList.remove("page-loader-out"),this.main.classList.add("page-loader-in"),setTimeout(()=>{this.main.classList.remove("page-loader-in"),i&&i()},200),this.animateStatus=!1},200)}}next(e){this.nowpage<this.pages.length-1&&!this.animateStatus&&(this.eachCantuse(),this.main.classList.remove("page-loader-default"),this.saveInputs.save(),this.animateStatus=!0,this.main.classList.remove("page-loader-in"),this.main.classList.add("page-loader-out"),this.pages[this.nowpage]=[this.title.innerText,this.main.innerHTML,this.main.scrollTop],setTimeout(()=>{this.main.innerHTML=this.pages[++this.nowpage][1],this.title.innerText=this.pages[this.nowpage][0],this.updateWebTitle(this.pages[this.nowpage][0]),this.main.scrollTop=this.pages[this.nowpage][2],this.button.left.classList.remove("disabled"),this.saveInputs.get(),this.nowpage==this.pages.length-1&&(this.button.right.classList.add("disabled"),this.button.left.classList.remove("disabled")),this.main.classList.remove("page-loader-out"),this.main.classList.add("page-loader-in"),setTimeout(()=>{this.main.classList.remove("page-loader-in"),e&&e()},200),this.animateStatus=!1},200))}back(e){this.nowpage>0&&!this.animateStatus&&(this.eachCantuse(),this.saveInputs.save(),this.pages[this.nowpage]=[this.title.innerText,this.main.innerHTML,this.main.scrollTop],this.nowpage--,this.animateStatus=!0,this.main.classList.remove("page-loader-in"),this.main.classList.add("page-loader-out"),setTimeout(()=>{this.main.innerHTML=this.pages[this.nowpage][1],this.title.innerText=this.pages[this.nowpage][0],this.updateWebTitle(this.pages[this.nowpage][0]),this.main.scrollTop=this.pages[this.nowpage][2],this.button.right.classList.remove("disabled"),this.saveInputs.get(),0==this.nowpage&&(this.main.classList.add("page-loader-default"),this.button.left.classList.add("disabled")),this.main.classList.remove("page-loader-out"),this.main.classList.add("page-loader-in"),setTimeout(()=>{this.main.classList.remove("page-loader-in"),e&&e()},200),this.animateStatus=!1},200))}}class HideOnText{constructor(e,t,i,s){this.ele=document.querySelector(e),this._length=t,this.eventEle=document.querySelector(i),this.width=s}init(){let e=this.ele.innerText;this.eventEle.innerWidth<=this.width?this.ele.innerText=hideText(e,this._length):this.ele.innerText=e}start(){window.addEventListener("resize",()=>{let e=this.ele.innerText;this.eventEle.innerWidth<=this.width?(console.log(1),this.ele.innerText=hideText(e,this._length)):this.ele.innerText=e})}}function hideText(e,t){return e.substr(0,t)+"..."}function wave(){let e=document.querySelectorAll("[wave]");e.forEach(e=>{"true"!=e.getAttribute("data-iswave")&&(e.setAttribute("data-iswave","true"),e.addEventListener("click",t=>{let i=document.createElement("span");i.classList="wave",i.style.backgroundColor=e.getAttribute("wave"),i.style.top=`${t.clientY-e.getBoundingClientRect().top}px`,i.style.left=`${t.clientX-e.getBoundingClientRect().left}px`,e.appendChild(i),setTimeout(()=>{i.remove()},399)}))})}function escapeHtml(e){let t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"/","`":"`","=":"="};return e.replace(/[&<>"'`=\/]/g,e=>t[e])}function decodeHtml(e){let t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"/","`":"`","=":"="};for(let i in t)e=e.replaceAll(t[i],i);return e}function enableCodePre(){let e=document.querySelectorAll(".code");e.forEach(e=>{e.innerHTML=escapeHtml(e.innerHTML).replaceAll("\n","<br>").replaceAll(" ","&nbsp;")})}function initMUI(){let e={openlist:document.getElementById("button-openlist"),back:document.getElementById("button-back"),next:document.getElementById("button-next")};e.openlist&&(e.openlist.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 36 36">
                        <g id="矩形_32" data-name="矩形 32" fill="none" stroke="#bebebe" stroke-width="3">
                            <rect width="36" height="36" rx="11" stroke="none" />
                            <rect x="1.5" y="1.5" width="33" height="33" rx="9.5" fill="none" />
                        </g>
                        <line id="直线_26" data-name="直线 26" x2="11.027" transform="translate(12.487 12.476)" fill="none"
                            stroke="#bebebe" stroke-linecap="round" stroke-width="3" />
                        <line id="直线_27" data-name="直线 27" x2="11.027" transform="translate(12.487 23.524)" fill="none"
                            stroke="#bebebe" stroke-linecap="round" stroke-width="3" />
                        <line id="直线_28" data-name="直线 28" x2="11.027" transform="translate(12.487 18)" fill="none"stroke="#bebebe" stroke-linecap="round" stroke-width="3" /></svg>`),e.back&&(e.back.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" width="16.225" height="24.225" viewBox="0 0 16.225 24.225">
                        <line id="直线_30" data-name="直线 30" x1="12" y2="10" transform="translate(2.113 2.113)"
                            fill="none" stroke="#bebebe" stroke-linecap="round" stroke-width="3" />
                        <line id="直线_31" data-name="直线 31" x1="12" y1="10" transform="translate(2.113 12.113)"
                            fill="none" stroke="#bebebe" stroke-linecap="round" stroke-width="3" />
                    </svg>`),e.next&&(e.next.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" width="16.225" height="24.225" viewBox="0 0 16.225 24.225">
                        <path id="路径_2" data-name="路径 2" d="M0,0,12,10" transform="translate(2.113 2.113)" fill="none"
                            stroke="#bebebe" stroke-linecap="round" stroke-width="3" />
                        <line id="直线_33" data-name="直线 33" y1="10" x2="12" transform="translate(2.113 12.113)"
                            fill="none" stroke="#bebebe" stroke-linecap="round" stroke-width="3" />
                    </svg>`)}document.querySelectorAll(".item").forEach(function(e){e.setAttribute("wave","rgba(171,171,171,0.5)")}),wave(),document.addEventListener("resize",()=>{wave()}),(()=>{let e=document.querySelector("#button-openlist");if(!e)return;let t=document.getElementById("left-tab"),i=!1,s=document.querySelector("#right-tab");document.querySelector("body");var r={left:{open(){i=!0,t.classList.remove("unvisible")},close(){i=!1,t.classList.add("unvisible")}},right:{open(){openRightTabStatus=!0,s.classList.remove("unvisible")},close(){openRightTabStatus=!1,s.classList.add("unvisible")}}};function n(){window.innerWidth>=1e3?e.classList.add("disabled"):e.classList.remove("disabled")}e.addEventListener("click",()=>{i?r.left.close():(r.left.open(),document.querySelector("#right-tab")&&r.right.close())}),n(),window.addEventListener("resize",()=>{n()}),document.querySelector("#right-tab")&&s.addEventListener("click",()=>{r.left.close(),document.querySelector("#right-tab")&&r.right.open()});let a=document.getElementById("main");var o=!1;a.addEventListener("click",()=>{document.querySelector("#right-tab")&&r.right.close(),o||r.left.close()}),e.addEventListener("mouseover",()=>{o=!0}),e.addEventListener("mouseleave",()=>{o=!1});let l=document.querySelectorAll("[with]");l.forEach(e=>{e.addEventListener("click",()=>{let t=e.getAttribute("with"),i=document.querySelectorAll(`[with="${t}"]`);i.forEach(e=>{e.classList.remove("active")}),e.classList.add("active")})});let h=document.querySelectorAll(".textarea");h.forEach(e=>{function t(){e.style.height="auto",e.style.height=e.scrollHeight+"px"}e.addEventListener("input",t),e.addEventListener("resize",t),window.addEventListener("resize",t)})})(),initMUI();const GmicrantType={encode(e){let t=e=escapeHtml(e).replace(/ /g,"&nbsp;").replace(/\n/g,"<br>"),i=[{regex:/\[b\](.*?)\[\/b\]/g,replacement:"<strong>$1</strong>"},{regex:/\[i\](.*?)\[\/i\]/g,replacement:"<em>$1</em>"},{regex:/\[s\](.*?)\[\/s\]/g,replacement:"<s>$1</s>"},{regex:/\[blur\](.*?)\[\/blur\]/g,replacement:'<span style="filter:blur(4px)">$1</span>'},{regex:/\[highlight\](.*?)\[\/highlight\]/g,replacement:'<span style="background:yellow">$1</span>'},{regex:/\[h1\](.*?)\[\/h1\]/g,replacement:'<h1 class="h1">$1</h1>'},{regex:/\[h2\](.*?)\[\/h2\]/g,replacement:'<h2 class="h2">$1</h2>'},{regex:/\[h3\](.*?)\[\/h3\]/g,replacement:'<h3 class="h3">$1</h3>'},{regex:/\[h4\](.*?)\[\/h4\]/g,replacement:'<h4 class="h4">$1</h4>'},{regex:/\[h5\](.*?)\[\/h5\]/g,replacement:"<h5>$1</h5>"},{regex:/\[h6\](.*?)\[\/h6\]/g,replacement:"<h6>$1</h6>"},{regex:/\[u\](.*?)\[\/u\]/g,replacement:"<u>$1</u>"},{regex:/\[hr\/\]/g,replacement:"<m-hr></m-hr>"},{regex:/\[tip\](.*?)\[\/tip\]/g,replacement:'<p class="tip">$1</p>'},{regex:/\[tipblock\](.*?)\[\/tipblock\]/g,replacement:'<div class="tipblock"><p>$1</p></div>'},{regex:/\[warnblock\](.*?)\[\/warnblock\]/g,replacement:'<div class="warnblock"><p>$1</p></div>'},{regex:/\[lcode\](.*?)\[\/lcode\]/g,replacement:'<span class="lblock">$1</span>'},{regex:/\[code\](.*?)\[\/code\]/gs,replacement:(e,t)=>`<div class="code"><pre><code>${t=t.replace(/<br>/gs,"\n")}</code></pre></div>`},{regex:/\[blue\](.*?)\[\/blue\]/gs,replacement:'<span style="color:blue">$1</span>'},{regex:/\[yellow\](.*?)\[\/yellow\]/gs,replacement:'<span style="color:yellow">$1</span>'},{regex:/\[red\](.*?)\[\/red\]/gs,replacement:'<span style="color:red">$1</span>'},{regex:/\[table\](.*?)\[\/table\]/gs,replacement:"<m-table>$1</m-table>"},{regex:/\[table-title\](.*?)\[\/table-title\]/gs,replacement:"<m-table-title>$1</m-table-title>"},{regex:/\[tr\](.*?)\[\/tr\]/gs,replacement:"<m-tr>$1</m-tr>"},{regex:/\[td\](.*?)\[\/td\]/gs,replacement:"<m-td>$1</m-td>"},{regex:/\[color:([#a-zA-Z0-9]+)\](.*?)\[\/color\]/g,replacement:'<span style="color:$1;">$2</span>'},{regex:/\[size:(\d+)\](.*?)\[\/size\]/g,replacement:(e,t,i)=>t>0&&t<=50?`<span style="font-size:${t}px">${i}</span>`:`<span style="font-size:15px">${i}</span>`},{regex:/\[link\](.*?)\[\/link\]/g,replacement(e,t){let i;try{i=btoa(t)}catch{i=""}return`<a href="https://micropue.com.cn/url?refresh=${i}" target="_blank">${t}</a>`}}];return i.forEach(e=>{t=t.replace(e.regex,e.replacement)}),t},decode(e){let t=decodeHtml(e);return[{regex:/<strong>(.*?)<\/strong>/g,replacement:"[b]$1[/b]"},{regex:/<em>(.*?)<\/em>/g,replacement:"[i]$1[/i]"},{regex:/<s>(.*?)<\/s>/g,replacement:"[s]$1[/s]"},{regex:/<span style="filter:blur\(4px\)">(.*?)<\/span>/g,replacement:"[blur]$1[/blur]"},{regex:/<span style="background:yellow">(.*?)<\/span>/g,replacement:"[highlight]$1[/highlight]"},{regex:/<h1 class="h1">(.*?)<\/h1>/g,replacement:"[h1]$1[/h1]"},{regex:/<h2 class="h2">(.*?)<\/h2>/g,replacement:"[h2]$1[/h2]"},{regex:/<h3 class="h3">(.*?)<\/h3>/g,replacement:"[h3]$1[/h3]"},{regex:/<h4 class="h4">(.*?)<\/h4>/g,replacement:"[h4]$1[/h4]"},{regex:/<h5>(.*?)<\/h5>/g,replacement:"[h5]$1[/h5]"},{regex:/<h6>(.*?)<\/h6>/g,replacement:"[h6]$1[/h6]"},{regex:/<u>(.*?)<\/u>/g,replacement:"[u]$1[/u]"},{regex:/<m-hr><\/m-hr>/g,replacement:"[hr/]"},{regex:/<p class="tip">(.*?)<\/p>/g,replacement:"[tip]$1[/tip]"},{regex:/<div class="tipblock"><p>(.*?)<\/p><\/div>/g,replacement:"[tipblock]$1[/tipblock]"},{regex:/<div class="warnblock"><p>(.*?)<\/p><\/div>/g,replacement:"[warnblock]$1[/warnblock]"},{regex:/<span class="lblock">(.*?)<\/span>/g,replacement:"[lcode]$1[/lcode]"},{regex:/<div class="code"><pre><code>(.*?)<\/code><\/pre><\/div>/gs,replacement:"[code]$1[/code]"},{regex:/<span style="color:blue">(.*?)<\/span>/gs,replacement:"[blue]$1[/blue]"},{regex:/<span style="color:yellow">(.*?)<\/span>/gs,replacement:"[yellow]$1[/yellow]"},{regex:/<span style="color:red">(.*?)<\/span>/gs,replacement:"[red]$1[/red]"},{regex:/<m-table>(.*?)<\/m-table>/gs,replacement:"[table]$1[/table]"},{regex:/<m-table-title>(.*?)<\/m-table-title>/gs,replacement:"[table-title]$1[/table-title]"},{regex:/<m-tr>(.*?)<\/m-tr>/gs,replacement:"[tr]$1[/tr]"},{regex:/<m-td>(.*?)<\/m-td>/gs,replacement:"[td]$1[/td]"},{regex:/<a href="https:\/\/micropue\.com\.cn\/url\?refresh=.*?" target="_blank">(.*?)<\/a>/g,replacement:"[link]$1[/link]"},{regex:/<span style="color:([#a-zA-Z0-9]+);">(.*?)<\/span>/g,replacement:"[color:$1]$2[/color]"},{regex:/<span style="font-size:(\d+)px;">(.*?)<\/span>/g,replacement:(e,t,i)=>t>0&&t<=50?`[size:${t}]${i}[/size]`:`[size:15]${i}[/size]`}].forEach(e=>{t=t.replace(e.regex,e.replacement)}),t=t.replace(/&nbsp;/g," ").replace(/<br>/g,"\n")}};Object.defineProperty(HTMLElement.prototype,"insertFromSelection",{value:function(e,t,i){let s=this.value;this.value=s.slice(0,e)+i[0]+s.slice(e,t)+(void 0!=i[1]?i[1]:"")+s.slice(t,s.length),this.selectionStart=this.selectionEnd=e+i[0].length},enumerable:!1});class BuiltGmicrantType{constructor(){this.main,this.allmodels=[["b","加粗"],["i","斜体"],["s","删除线"],["blur","模糊文本"],["h1","标题1"],["h2","标题2"],["h3","标题3"],["h4","标题4"],["h5","标题5"],["h6","标题6"],["u","下划线"],["hr","横线*"],["tip","提示文本"],["tipblock","提示块"],["warnblock","警告块"],["lcode","小代码区"],["code","代码域"],["blue","蓝色文本"],["yellow","黄色文本"],["red","红色文本"],["table","表格"],["table-title","表格标题"],["tr","表格行"],["td","表格纵"],["link","链接"],["color","字体颜色*"],["size","字体大小*"],["highlight","高亮"]],this.input,this.output,this.lhr}init(e,t=""){if(document.querySelector('[data-gmicrant-type="main"]'))return;this.main=document.querySelector(e),this.main.innerHTML=`<div data-gmicrant-type="main"><div data-gmicrant-type="bar"><div data-gmicrant-type="bar-base"></div></div><div data-gmicrant-type="content"><textarea data-gmicrant-type="input" placeholder="输入内容"></textarea><m-lhr data-gmicrant-type="lhr"></m-lhr><div data-gmicrant-type="output"></div></div></div>`,this.input=this.main.querySelector('[data-gmicrant-type="input"]'),this.output=this.main.querySelector('[data-gmicrant-type="output"]'),""!=t&&(this.input.value=t,this.output.innerHTML=GmicrantType.encode(t)),this.lhr=this.main.querySelector('[data-gmicrant-type="lhr"]');let i=this.main.querySelector('[data-gmicrant-type="bar-base"]');this.allmodels.forEach(e=>{let t=document.createElement("div");t.setAttribute("data-gmicrant-type","item"),t.setAttribute("data-gmicrant-type-insertType",e[0]),t.setAttribute("wave","#bebebe9e"),t.innerHTML=`<p>${e[1]}</p>`,t.onclick=()=>{r(e[0])},i.append(t)}),wave(),this.input.addEventListener("input",()=>{this.output.innerHTML=GmicrantType.encode(this.input.value)});var s=!1;this.lhr.addEventListener("mousedown",()=>{s=!0}),document.addEventListener("mouseup",()=>{s=!1}),document.addEventListener("mousemove",e=>{if(s){let t={x:e.clientX-this.main.offsetLeft,y:e.clientY-this.main.offsetTop};this.input.style.width=t.x/this.main.getBoundingClientRect().width*100+"%",this.output.style.width=(1-t.x/this.main.getBoundingClientRect().width)*100+"%"}});let r=e=>{let t={s:this.input.selectionStart,e:this.input.selectionEnd};switch(e){case"hr":this.input.insertFromSelection(t.s,t.e,["[hr/]"]);break;case"lhr":this.input.insertFromSelection(t.s,t.e,["[lhr/]"]);break;case"color":this.input.insertFromSelection(t.s,t.e,["[color:]","[/color]"]);break;case"size":this.input.insertFromSelection(t.s,t.e,["[size:]","[/size]"]);break;default:this.input.insertFromSelection(t.s,t.e,[`[${e}]`,`[/${e}]`])}this.input.focus(),this.output.innerHTML=GmicrantType.encode(this.input.value)}}enableAnimate(){let e=this.main.querySelector('[data-gmicrant-type="bar"]');function t(e,t,i,s,r){return(i-t)*(e/(r-s))+t}let i=this.main.querySelectorAll('[data-gmicrant-type="item"]');e.addEventListener("scroll",()=>{i.forEach(t=>{var i,s;let r=(i=function t(i){let s=i.getBoundingClientRect().left,r=e.offsetWidth;return Math.abs(s-r/2)}(t),1*(i/((s=e.scrollWidth)-0))+0);t.style.transform=`scale(${1-r})`})})}getData(){return this.input.value}getHTML(){return this.output.innerHTML}}(()=>{function e(){let e=document.querySelectorAll("[data-enable-lists]");e.forEach(e=>{if(e.parentElement.querySelector("[data-lists=main]"))return;let t=document.createElement("div");t.setAttribute("data-lists","model");let i=document.createElement("div");i.setAttribute("data-lists","main");let s=document.createElement("div");s.setAttribute("data-lists","container");let r=e.querySelectorAll("h1,h2,h3,h4,h5,h6");r.forEach(t=>{let i=(1e20*Math.random()).toString(24);t.id="data-lists-"+i;let r=t.tagName,n=document.createElement("div");n.setAttribute("data-lists",`item-${r}`),n.innerHTML=`<p>${t.innerText.length>10?t.innerText.slice(0,7)+"...":t.innerText}</p>`,n.onclick=()=>{let t=document.querySelector(`#data-lists-${i}`).offsetTop-e.parentElement.scrollTop;e.parentElement.classList.add("scroll-smooth"),e.parentElement.scrollTop=e.parentElement.scrollTop+t,setTimeout(()=>{e.parentElement.classList.remove("scroll-smooth")},1e3)},s.append(n)}),i.prepend(s),t.prepend(i),e.parentElement.prepend(t);let n=navigator.userAgent;if(n.includes("Safari")&&!n.includes("Chrome")){let a=e.parentElement.querySelector("[data-lists=main]");if(a){let o=a.querySelector("[data-lists=container]").offsetHeight;a.style.minHeight=o+5+"px"}}})}let t=new MutationObserver(e);t.observe(document.querySelector("body"),{childList:!0,subtree:!0,attributes:!0})})(),Object.defineProperty(Array.prototype,"shuffle",{value:function(){for(var e=0;e<this.length;e++)for(var t=e;t<this.length;t++){let i=parseInt(Math.random()*this.length),s=this[t];this[t]=this[i],this[i]=s}},enumerable:!1}),Object.defineProperty(Object.prototype,"shuffle",{value:function(){if(Array.isArray(this))console.error("error! need object!");else{var e=[];for(let t in this)e.push(t);e.shuffle();var i=0;for(let s in this){let r=this[s];this[s]=this[e[i]],this[e[i]]=r,i++}}},enumerable:!1});class __mIcon__ extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){let e=this.getAttribute("size")||"28",t=this.getAttribute("color")||"#cecece",i=this.getAttribute("type");this.style.width=e+"px",this.style.height=e+"px",this.style.display="flex",this.style.justifyContent="center",this.style.alignItems="center";var s={search:`<svg id="组件_1_1" data-name="组件 1 – 1" xmlns="http://www.w3.org/2000/svg" width="${e}" height="${e}" viewBox="0 0 28.121 30.997"><g id="椭圆_1" data-name="椭圆 1" fill="none" stroke="${t}" stroke-width="3"><circle cx="12" cy="12" r="12" stroke="none"/><circle cx="12" cy="12" r="10.5" fill="none"/></g><line id="直线_1" data-name="直线 1" x2="8" y2="9" transform="translate(19 21)" fill="none" stroke="${t}" stroke-width="3"/></svg>`,down:`<svg xmlns="http://www.w3.org/2000/svg" width="${e}" height="${e}" viewBox="0 0 23.324 12.295"><line id="直线_8" data-name="直线 8" x2="9.548" y2="8.067" transform="translate(2.114 2.114)" fill="none" stroke="${t}" stroke-linecap="round" stroke-width="3"/><line id="直线_9" data-name="直线 9" x1="9.548" y2="8.067" transform="translate(11.662 2.114)" fill="none" stroke="${t}" stroke-linecap="round" stroke-width="3"/></svg>`,select:`<svg xmlns="http://www.w3.org/2000/svg" width="${e}" height="${e}" viewBox="0 0 29.593 29"><g id="组件_5_1" data-name="组件 5 – 1" transform="translate(1.5)"><g id="矩形_5" data-name="矩形 5" transform="translate(4.093)" fill="none" stroke="${t}" stroke-width="3"><rect width="24" height="24" rx="4" stroke="none"/><rect x="1.5" y="1.5" width="21" height="21" rx="2.5" fill="none"/></g><line id="直线_4" data-name="直线 4" y2="19.735" transform="translate(0 7.765)" fill="none" stroke="${t}" stroke-linecap="round" stroke-width="3"/><line id="直线_5" data-name="直线 5" x1="20.593" transform="translate(0 27.5)" fill="none" stroke="${t}" stroke-linecap="round" stroke-width="3"/><line id="直线_6" data-name="直线 6" x2="4" y2="4.5" transform="translate(10.593 11.765)" fill="none" stroke="${t}" stroke-linecap="round" stroke-width="3"/><line id="直线_7" data-name="直线 7" y1="8.5" x2="7" transform="translate(14.593 7.765)" fill="none" stroke="${t}" stroke-linecap="round" stroke-width="3"/></g</svg>`,add:`<svg xmlns="http://www.w3.org/2000/svg" width="${e}" height="${e}" viewBox="0 0 27.318 27.006"><g id="组_2" data-name="组 2" transform="translate(-363.9 -133.997)"><line id="直线_2" data-name="直线 2" x2="23.318" transform="translate(365.9 147.5)" fill="none" stroke="${t}" stroke-linecap="round" stroke-width="4"/><line id="直线_3" data-name="直线 3" x2="23.006" transform="translate(377.559 135.997) rotate(90)" fill="none" stroke="${t}" stroke-linecap="round" stroke-width="4"/></g></svg>`,cancel:`<svg xmlns="http://www.w3.org/2000/svg" width="${e}" height="${e}" viewBox="0 0 40.544 40.544"><g id="组件_6_1" data-name="组件 6 – 1" transform="translate(4.95 4.95)"><line id="直线_26" data-name="直线 26" x2="30.644" y2="30.644" fill="none" stroke="${t}" stroke-linecap="round" stroke-width="7"/><line id="直线_27" data-name="直线 27" x2="30.644" y2="30.644" transform="translate(30.644) rotate(90)" fill="none" stroke="${t}" stroke-linecap="round" stroke-width="7"/></g</svg>`,more:`<svg xmlns="http://www.w3.org/2000/svg" width="${e}" height="${e}" viewBox="0 0 16 4"><circle id="椭圆_7" data-name="椭圆 7" cx="2" cy="2" r="2" fill="${t}"/><circle id="椭圆_8" data-name="椭圆 8" cx="2" cy="2" r="2" transform="translate(6)" fill="${t}"/><circle id="椭圆_9" data-name="椭圆 9" cx="2" cy="2" r="2" transform="translate(12)" fill="${t}"/</svg>`,info:`<svg xmlns="http://www.w3.org/2000/svg" width="${e}" height="${e}" viewBox="0 0 6.605 12.898"><g id="组件_2_1" data-name="组件 2 – 1" transform="translate(1)"><line id="直线_10" data-name="直线 10" y2="7.676" transform="translate(2.303 4.222)" fill="none" stroke="${t}" stroke-linecap="round" stroke-width="2"/><line id="直线_11" data-name="直线 11" x2="2.303" transform="translate(0 4.222)" fill="none" stroke="${t}" stroke-linecap="round" stroke-width="2"/><line id="直线_12" data-name="直线 12" x2="4.605" transform="translate(0 11.898)" fill="none" stroke="${t}" stroke-linecap="round" stroke-width="2"/><circle id="椭圆_6" data-name="椭圆 6" cx="1.151" cy="1.151" r="1.151" transform="translate(1.151)"/></g></svg>`,warn:`<svg id="组件_7_1" data-name="组件 7 – 1" xmlns="http://www.w3.org/2000/svg" width="${e}" height="${e}" viewBox="0 0 25 25"><g id="椭圆_10" data-name="椭圆 10" fill="none" stroke="${t}" stroke-width="3"><circle cx="12.5" cy="12.5" r="12.5" stroke="none"/><circle cx="12.5" cy="12.5" r="11" fill="none"/></g><line id="直线_30" data-name="直线 30" y2="8" transform="translate(12.5 6.55)" fill="none" stroke="${t}" stroke-linecap="round" stroke-width="3"/><circle id="椭圆_11" data-name="椭圆 11" cx="1.5" cy="1.5" r="1.5" transform="translate(11 17.05)" fill="${t}"/></svg>`,undo:`<svg xmlns="http://www.w3.org/2000/svg" width="${e}" height="${e}" viewBox="0 0 31.735 37.874"><g id="组件_8_1" data-name="组件 8 – 1" transform="translate(3.536 3.536)"><path id="路径_2" data-name="路径 2" d="M1575.52,1330.277s10.326-24.983-23.626-24.736" transform="translate(-1551.394 -1299.204)" fill="none" stroke="${t}" stroke-linecap="round" stroke-width="5"/><line id="直线_31" data-name="直线 31" y1="6" x2="6" fill="none" stroke="${t}" stroke-linecap="round" stroke-width="5"/><line id="直线_32" data-name="直线 32" x2="6" y2="6" transform="translate(0 6.5)" fill="none" stroke="${t}" stroke-linecap="round" stroke-width="5"/></g></svg>`,redo:`<svg xmlns="http://www.w3.org/2000/svg" width="${e}" height="${e}" viewBox="0 0 32.632 37.874"><g id="组件_8_2" data-name="组件 8 – 2" transform="translate(2.597 3.536)"><path id="路径_2" data-name="路径 2" d="M1553.372,1330.277s-10.326-24.983,23.626-24.736" transform="translate(-1551.894 -1299.204)" fill="none" stroke="${t}" stroke-linecap="round" stroke-width="5"/><line id="直线_31" data-name="直线 31" x1="6" y1="6" transform="translate(20.5)" fill="none" stroke="${t}" stroke-linecap="round" stroke-width="5"/><line id="直线_32" data-name="直线 32" x1="6" y2="6" transform="translate(20.5 6.5)" fill="none" stroke="${t}" stroke-linecap="round" stroke-width="5"/></g></svg>`};this.shadowRoot.innerHTML=s[i];let r=new MutationObserver(()=>{let e={color:this.getAttribute("color"),size:this.getAttribute("size"),type:this.getAttribute("type")};this.shadowRoot.innerHTML=s[e.type];let t={resizeEle:this.shadowRoot.querySelector("svg"),recolorEle:this.shadowRoot.querySelectorAll("[stroke],[fill]")};t.resizeEle.setAttribute("width",e.size),t.resizeEle.setAttribute("height",e.size),t.recolorEle.forEach(t=>{t.getAttribute("fill")&&"none"!=t.getAttribute("fill")&&t.setAttribute("fill",e.color),t.getAttribute("stroke")&&"none"!=t.getAttribute("stroke")&&t.setAttribute("stroke",e.color)})});r.observe(this,{childList:!0,attributes:!0})}}customElements.define("m-icon",__mIcon__);class __mSelection__ extends HTMLElement{constructor(){super(),this.value=this.querySelector("m-option[selected]").getAttribute("value");try{this.querySelector("m-option[selected]").getAttribute("value"),this.value=this.querySelector("m-option[selected]").getAttribute("value")}catch{console.error("You need to init value!")}this.is_open=!1}connectedCallback(){let e=this.querySelector("m-select-view"),t=e.innerHTML;e.innerHTML=`<p>${t}</p><m-icon type="down" style="margin-left:15px;" size="14" color="black"></m-icon>`;let i=this.querySelector("m-select-options"),s=this.querySelectorAll("m-option"),r={ele:this,animate(e="open"){switch(e){case"open":i.classList.remove("out"),i.classList.add("in"),this.ele.classList.add("open"),this.is_open=!0;break;case"close":i.classList.remove("in"),i.classList.add("out"),setTimeout(()=>{this.ele.classList.remove("open"),this.is_open=!1},300)}},init(){e.addEventListener("click",()=>{this.animate()})},blur(){var t=!0;e.addEventListener("mouseleave",()=>{t=!1}),e.addEventListener("mouseover",()=>{t=!0}),i.addEventListener("mouseover",()=>{t=!0}),i.addEventListener("mouseleave",()=>{t=!1}),document.addEventListener("click",()=>{t||this.animate("close")})}};r.init(),r.blur(),(()=>{s.forEach(e=>{e.addEventListener("click",()=>{s.forEach(e=>{e.removeAttribute("selected")}),e.setAttribute("selected",""),this.value=e.getAttribute("value")})})})()}}customElements.define("m-select",__mSelection__);class __mMenu__ extends HTMLElement{constructor(){super(),this.opened=!1}open(){this.classList.add("in"),this.classList.remove("out"),this.style.display="flex",this.opened=!0,this.setAttribute("mui-isopen","true")}close(){this.classList.remove("in"),this.classList.add("out"),setTimeout(()=>{this.style.display="none"},300),this.opened=!1,this.setAttribute("mui-isopen","false")}connectedCallback(){let e=this.getAttribute("for");e||console.error("Can't find attribute \"for\" or it's empty");let t=document.querySelector(e);this.setAttribute("mui-isopen","false");var i=!1;t.addEventListener("click",()=>{this.opened?this.close():this.open()}),t.addEventListener("mouseover",()=>{i=!0}),t.addEventListener("mouseleave",()=>{i=!1}),document.addEventListener("click",()=>{i||this.close()})}}customElements.define("m-menu",__mMenu__);class __mButton__ extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){let e=this.getAttribute("shadow-color")||"var(--theme-color)",t={width:this.getAttribute("mui-width")||80,height:this.getAttribute("mui-height")||40},i=this.innerHTML,s=document.createElement("style");s.textContent=`:host {
  --shadowColor: var(--theme-color);
  --width: 80px;
  --height: 40px;
  position: relative;
  overflow: hidden;
  box-sizing: border-box;
  width: var(--width);
  height: var(--height);
  border-radius: 10px;
  transition: 0.2s;
  display: flex;
}
:host(:hover) {
  transform: scale(1.1);
}
:host(:active) {
  transform: scale(0.9);
}
:host(:active) .text {
  background-color: var(--shadowColor);
  color: white;
}
  :host .text {
  position: absolute;
  background-color: rgba(240, 240, 240, 0.3);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  z-index: 1;
  top: 0;
  left: 0;
  bottom: 0;
  right: 0;
  margin: auto;
  box-sizing: border-box;
  width: calc(var(--width) - 5px);
  height: calc(var(--height) - 5px);
  display: flex;
  justify-content: center;
  align-items: center;
  border-radius: 8px;
  transition: 0.2s;
  cursor: pointer;
}
:host .shadow {
  --x: 0px;
  --y: 0px;
  position: absolute;
  top: 0;
  left: 0;
  filter: blur(20px);
  background-color: var(--shadowColor);
  z-index: 0;
  width: 100%;
  height: 100%;
  transform: translate(var(--x), var(--y));
}`,this.shadowRoot.append(s),this.style.setProperty("--shadowColor",e),this.style.setProperty("--width",`${t.width}px`),this.style.setProperty("--height",`${t.height}px`),this.shadowRoot.innerHTML+=`<span class="text">${i}</span><span class="shadow"></span>`,window.addEventListener("mousemove",e=>{let{clientX:t,clientY:i}=e,{top:s,left:r,width:n,height:a}=this.getBoundingClientRect(),o={x:t-r-n/2,y:i-s-a/2},l=this.shadowRoot.querySelector(".shadow");l.style.setProperty("--x",o.x+"px"),l.style.setProperty("--y",o.y+"px")})}}customElements.define("m-button",__mButton__);class __mInput__ extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){let e=this.getAttribute("type")||"text",t=this.getAttribute("placeholder")||"输入...",i={shadowColor:this.getAttribute("shadow-color")||"var(--theme-color)",bgcolor:this.getAttribute("mui-bgcolor")||"var(--rgba-theme-color)"};this.style.setProperty("--shadowColor",i.shadowColor),this.style.setProperty("--bgcolor",i.bgcolor);let s=document.createElement("style");s.textContent=`
        :host {
        display:block;
  --shadowColor: var(--theme-color);
  --bgcolor: var(--rgba-theme-color);
  overflow: hidden;
  width: 150px;
  height: 50px;
  border-radius: 10px;
  position: relative;
  background-color: #f6f6f6;
}
:host label {
  position: absolute;
  z-index: 2;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
  margin: auto;
  display: flex;
  justify-content: center;
  align-items: center;
  pointer-events: none;
  width: -moz-fit-content;
  width: fit-content;
  color: var(--bgcolor);
  font-weight: 400;
  transition: 0.3s;
  font-size: 13px;
}
:host input.focused~label {
  opacity: 0;
  filter: blur(30px);
}
:host input {
  position: absolute;
  width: calc(100% - 5px);
  height: calc(100% - 5px);
  outline: none;
  border: none;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
  margin: auto;
  border-radius: 8px;
  box-sizing: border-box;
  padding: 10px 20px;
  background-color: rgba(255, 255, 255, 0.5);
  transition: all 0.3s;
  color: black;
  outline: 0px solid rgba(255, 255, 255, 0);
  z-index: 1;
  font-size: 15px;
}
:host input:focus {
  background: var(--bgcolor);
  background-position-x: 0px;
  color: white;
}
:host input::-moz-selection {
  background-color: var(--bgcolor);
}
:host input::selection {
  background-color: var(--bgcolor);
}
span {
  --x: -100%;
  --y: -100%;
  position: absolute;
  top: var(--y);
  left: var(--x);
  background-color: var(--shadowColor);
  width: 100px;
  height: 100px;
  filter: blur(50px);
  z-index: 0;
  border-radius:50%;
}`,this.shadowRoot.appendChild(s),this.shadowRoot.innerHTML+=`<input type="${e}"/><label>${t}</label><span></span>`;let r={label:this.shadowRoot.querySelector("label"),input:this.shadowRoot.querySelector("input"),ball:this.shadowRoot.querySelector("span")};r.input.addEventListener("focus",()=>r.input.classList.add("focused")),r.input.addEventListener("blur",()=>{0==r.input.value.length&&r.input.classList.remove("focused")}),window.addEventListener("mousemove",e=>{let{clientX:t,clientY:i}=e,{left:s,top:n}=this.getBoundingClientRect(),{width:a,height:o}=r.ball.getBoundingClientRect();r.ball.style.setProperty("--x",`${t-s-a/2}px`),r.ball.style.setProperty("--y",`${i-n-o/2}px`)})}}customElements.define("m-input",__mInput__);class mModalBox{constructor(e){this.is_opening=!1,this.uid=(()=>{var e;e=btoa(e=1e5*Math.random()).replace(/\=/gs,"");for(var t=1;t<e.length/5;t++){let i=e.slice(0,5*t),s=e.slice(5*t,e.length-1);e=i+"-"+s}return e})(),this.options={where:document.querySelector(e.where)||void 0,content:{head:{first:(()=>{var t;try{t={text:e.content.head.first.text||void 0,func:e.content.head.first.func||void 0}}catch{t=void 0}return t})(),title:e.content.head.title,last:(()=>{var t;try{t={text:e.content.head.last.text||void 0,func:e.content.head.last.func||void 0}}catch{t=void 0}return t})()},body:e.content.body}}}open(){let e=document.querySelector(`[mui-uid=${this.uid}]`);e.classList.remove("out"),e.classList.add("in"),e.style.display="flex",e.setAttribute("mui-isopen","true"),this.is_opening=!0}close(){let e=document.querySelector(`[mui-uid=${this.uid}]`);e.classList.remove("in"),e.classList.add("out"),setTimeout(()=>{e.style.display="none",this.is_opening=!1,e.setAttribute("mui-isopen","false")},800)}logout(){let e=document.querySelector(`[mui-uid=${this.uid}]`);e.remove()}init(){let e=document.querySelector("body"),t=document.createElement("m-modal"),i=document.createElement("m-modal-page"),s=document.createElement("m-modal-head"),r=this.options,n={options:r,firstChild(){try{var e;this.options.content.head.first&&((e=document.createElement("p")).setAttribute("m-modal-head-first-button",""),e.textContent=this.options.content.head.first.text,void 0!=this.options.content.head.first.func&&(e.onclick=this.options.content.head.first.func),s.appendChild(e))}catch{}},centerChild(){var e=document.createElement("p");e.setAttribute("m-modal-head-title",""),e.innerText=this.options.content.head.title,s.appendChild(e)},lastChild(){try{var e;this.options.content.head.last&&((e=document.createElement("p")).setAttribute("m-modal-head-last-button",""),e.textContent=this.options.content.head.last.text,void 0!=this.options.content.head.last.func&&(e.onclick=this.options.content.head.last.func),s.appendChild(e))}catch{}}};n.firstChild(),n.centerChild(),n.lastChild();let a=document.createElement("m-modal-body");a.innerHTML=this.options.content.body,i.appendChild(s),i.appendChild(a),t.appendChild(i),t.setAttribute("mui-isopen","false"),t.setAttribute("mui-uid",this.uid),void 0!=this.options.where&&this.options.where.addEventListener("click",()=>{"false"==t.getAttribute("mui-isopen")?this.open():this.close()}),e.appendChild(t)}update(e){let t=document.querySelector(`[mui-uid=${this.uid}] m-modal-body`);t.innerHTML=e}}const mpopup={remove(e){var t=[...document.querySelectorAll("m-popup")];t.reverse();let i=[],s=e.getAttribute("mui-uid"),r=e.getBoundingClientRect().height;var n=!1;for(let a of t)n&&i.push(a),a.getAttribute("mui-uid")==s&&(n=!0);i.forEach(e=>{let t=Number(e.getAttribute("mui-translateY"));e.style.marginTop=t-r-20+"px",e.setAttribute("mui-translateY",t-r-20)})},structure(e,t,i){var s,r={color:"red",rgbcolor:"rgba(255, 0, 0, 0.482)"},n="注意";switch(i){case!0:s=`<m-popup-buttons><m-popup-enter>确定</m-popup-enter></m-popup-buttons>`;break;case!1:s=""}switch(e){case"warn":break;case"tip":n="提示",r.color="#ff9600",r.rgbcolor="#ffc300a6"}let a=document.createElement("m-popup"),o=(1e5*Math.random()).toString(36);if(a.style.setProperty("--color",r.color),a.style.setProperty("--rgbcolor",r.rgbcolor),a.setAttribute("mui-uid",o),a.classList="in",a.innerHTML=`<m-popup-head><m-icon type="warn" color="${r.color}" size="22"></m-icon><p>${n}</p></m-popup-head><m-popup-body><p>${t}</p>${s}</m-popup-body><m-popup-range class="${i?"":"inter"}"></m-popup-range>`,i){let l=a.querySelector("m-popup-enter"),h=!1;l.onclick=()=>{h||(h=!0,a.classList="out",this.remove(a),setTimeout(()=>{a.remove(),h=!1},1e3))}}else setTimeout(()=>{a.classList="out",this.remove(a),setTimeout(()=>{a.remove()},1e3)},5e3);return{main:a,uid:o}},move(e,t){let i=document.querySelectorAll(e),s=t.getBoundingClientRect().height;i.forEach(e=>{if(e.getAttribute("mui-uid")!=t.getAttribute("mui-uid")){let i=Number(e.getAttribute("mui-translateY"))||10;e.style.marginTop=`${i+s+20}px`,e.setAttribute("mui-translateY",i+s+20)}})},warn(e,t=!1){let i=document.querySelector("body"),s=this.structure("warn",e,t).main;i.append(s),this.move("m-popup",s)},tip(e,t=!1){let i=document.querySelector("body"),s=this.structure("tip",e,t).main;i.append(s),this.move("m-popup",s)}};class RouteLoader{constructor(e){this.defaultRouterID=this.uid(),this.routeTable=this.structure(e),this.init(),this.nowhash=decodeURI(location.hash),this.timeout,this.nowRouteid=this.defaultRouterID}uid(){for(var e=(1e20*Math.random()).toString(36),t=5;t<e.length;t+=5)e=e.slice(0,t)+"-"+e.slice(t,e.length-1);return e}structure(e){var t=[];for(let i of e){let s=this.uid(),r=RegExp(`^${i[0].replace(/{%}/g,"([^/]+)")}\\??(.*)$`);t.push({path:i[0],func:i[1],routeid:s,regex:r})}return t}init(){document.body.setAttribute("router-id",this.defaultRouterID);var e=()=>{this.nowhash=decodeURI(location.hash),this.locate(this.nowhash.replace(/\#/,""))};e(),window.addEventListener("hashchange",t=>{e()})}change(e,t,i){clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.nowRouteid=this.routeTable[e].routeid,this.routeTable[e].func(t,i),document.body.setAttribute("router-id",this.routeTable[e].routeid)},100)}locate(e){for(let t in this.routeTable){let i=e.match(this.routeTable[t].regex);if(i){let s=i.slice(1,-1),r=this.parseQuery(i[i.length-1]);this.change(t,s,r);return}}}parseQuery(e){return e?e.split("&").reduce((e,t)=>{let[i,s]=t.split("=");return e[i]=s,e},{}):{}}}class mWindow{constructor(e){this.opened=!1,this.uid,this.is_init=!1,this.options={size:{width:e.size.width||500,height:e.size.height||300},defaultLocation:{x:e.defaultLocation.x||0,y:e.defaultLocation.y||0},bgcolor:e.bgcolor||"white",zIndex:e.zIndex||1e5,head:{title:e.head.title,controls:(()=>{if(0!=e.head.controls.length&&void 0!=e.head.controls.length){var t=[];for(let i of e.head.controls)t.push({name:i.name,func:i.func?i.func:void 0});return t}})()},content:e.content}}init(){if(this.is_init)return;this.is_init=!0;let e=this.structure(this.options);document.body.append(e.ele),this.uid=e.uid}open(){if(!this.is_init){console.error("You need to init the window!");return}if(this.opened)return;this.opened=!0;let e=document.querySelector(`[mui-uid="${this.uid}"]`);e.classList.remove("out"),e.classList.add("in"),e.style.display="flex"}close(){if(!this.is_init){console.error("You need to init the window!");return}if(!this.opened)return;this.opened=!1;let e=document.querySelector(`[mui-uid="${this.uid}"]`);e.classList.remove("in"),e.classList.add("out"),setTimeout(()=>{e.style.display="none"},300)}logout(){if(!this.is_init)return;this.is_init=!1;let e=document.querySelector(`[mui-uid="${this.uid}"]`);e.remove()}structure(e){let t=document.createElement("m-window");t.classList="in",t.style.setProperty("--width",`${e.size.width}px`),t.style.setProperty("--height",`${e.size.height}px`),t.style.setProperty("--top",`${e.defaultLocation.y}px`),t.style.setProperty("--left",`${e.defaultLocation.x}px`),t.style.setProperty("--zIndex",`${e.zIndex}`),t.style.setProperty("--bgcolor",`${e.bgcolor}`);let i=(1e5*Math.random()).toString(36)?.replace(/\./,"");t.setAttribute("mui-uid",i),t.innerHTML=`<m-window-head><m-window-title>${e.head.title}</m-window-title><m-window-control></m-window-control></m-window-head><m-window-body>${e.content}</m-window-body><m-window-resize title="拖动以改变大小"></m-window-resize>`;let s={head:t.querySelector("m-window-head"),control:t.querySelector("m-window-head m-window-control"),resize:t.querySelector("m-window-resize")},r={control(){if(void 0!=e.head.controls)for(let t of e.head.controls){let i=document.createElement("m-window-control-item");i.onclick=t.func,i.innerHTML=`<p>${t.name}</p>`,s.control.append(i)}},move(){var e=!1,i={x:0,y:0};s.head.addEventListener("mousedown",s=>{e=!0,document.body.style.userSelect="none";let{offsetTop:r,offsetLeft:n}=t;i={x:s.clientX-n,y:s.clientY-r}}),document.addEventListener("mouseup",()=>{e&&(e=!1),document.body.style.userSelect="initial"}),document.addEventListener("mousemove",s=>{if(!e)return;let{clientX:r,clientY:n}=s,a={x:r-i.x,y:n-i.y},o={max:{x:window.innerWidth,y:window.innerHeight},check(){a.x=a.x<=0?0:a.x>=this.max.x-t.offsetWidth?this.max.x-t.offsetWidth:a.x,a.y=a.y<=0?0:a.y>=this.max.y-t.offsetHeight?this.max.y-t.offsetHeight:a.y}};o.check(),t.style.setProperty("--top",`${a.y}px`),t.style.setProperty("--left",`${a.x}px`)})},resize(){var e=!1;s.resize.addEventListener("mousedown",()=>{e=!0,document.body.style.userSelect="none"}),document.addEventListener("mouseup",()=>{e&&(e=!1),document.body.style.userSelect="initial"}),document.addEventListener("mousemove",i=>{if(!e)return;let{clientX:s,clientY:r}=i,{offsetTop:n,offsetLeft:a}=t,o={width:s-a,height:r-n};t.style.setProperty("--width",`${o.width}px`),t.style.setProperty("--height",`${o.height}px`)})}};return r.control(),r.move(),r.resize(),{ele:t,uid:i}}}class mAjax{constructor(e){this.url=e.url,this.method=e.method||"GET",this.data=e.data||{},this.success=e.success||function(){},this.error=e.error||function(){},this.send(),this.sended=!1,this.abort}send(){if(this.sended){console.error("AJAX has been sended.");return}let e=new XMLHttpRequest;if(this.abort=()=>e.abort(),"GET"==this.method){var t=[],i=0,s=this.url;if(0!=Object.keys(this.data)){for(let r in s=this.url+"?",this.data)t.push([0!=i?"&":"",r,this.data[r]]),i++;for(let n of t)s+=n[0]+n[1]+"="+n[2]}e.open(this.method,s),e.send(),this.sended=!0}else this.sended=!0,e.open(this.method,this.url),e.send(JSON.stringify(this.data));e.onreadystatechange=()=>{if(4!==e.readyState)return;var t=(()=>{let t=e.responseText;return this.isJSON(t)?JSON.parse(t):t})();let i={readyState:e.readyState,status:e.status};e.status>=200?this.success(i,t):this.error(i,t)}}isJSON(e){try{return JSON.parse(e),!0}catch{return!1}}}const mCookie={set(e){let t=e.key,i=e.value||"",s=e.path||"/",r=e.secure||!1,n=e.sameSite||"Lax",a=new Date(Date.now()+1e3*(e.expires||86400)).toUTCString();document.cookie=`${t}=${i}; path=${s}; expires=${a}; ${"None"===n?"Secure;":r?"Secure;":""} SameSite=${n}`},all(){let e=document.cookie.split("; "),t={};return e.forEach(e=>{let[i,...s]=e.split("=");t[i]=s.join("=")}),t},get(e){return this.all()[e]||!1},delete(e,t){document.cookie=`${e}=; path=${t}; expires=Thu, 01 Jan 1970 00:00:00 UTC`}};